<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sultan Top Up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Pustaka Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, addDoc, getDocs, deleteDoc, onSnapshot, collection, query, orderBy } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // =================================================================
        // PERHATIAN: PENTING!
        // =================================================================
        // SILAKAN GANTI KODE DI BAWAH INI DENGAN KONFIGURASI PROYEK FIREBASE ANDA SENDIRI.
        // Konfigurasi ini dapat ditemukan di konsol Firebase Anda setelah Anda
        // menambahkan aplikasi web.
        
        const firebaseConfig = {
         apiKey: "AIzaSyD509Mf6PPRxyteXubs2i7Wm87puHjkqXM",

  authDomain: "sultan-top-up-186c0.firebaseapp.com",

  projectId: "sultan-top-up-186c0",

  storageBucket: "sultan-top-up-186c0.firebasestorage.app",

  messagingSenderId: "950640286424",

  appId: "1:950640286424:web:b600abc65d0058345795ad",

  measurementId: "G-DLFREE2CRD"


        };
        // =================================================================

        let db, auth;
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        document.addEventListener('DOMContentLoaded', async () => {
            
            // --- FIREBASE SETUP ---
            if (firebaseConfig && firebaseConfig.apiKey !== "YOUR_API_KEY") {
                try {
                    const app = initializeApp(firebaseConfig);
                    auth = getAuth(app);
                    db = getFirestore(app);

                    await signInAnonymously(auth);
                    console.log("Berhasil masuk secara anonim.");

                    onAuthStateChanged(auth, async (user) => {
                        if (user) {
                            const userId = user.uid;
                            console.log("Authenticated with user ID:", userId);
                            
                            // Fungsi-fungsi database
                            const cartRef = collection(db, 'artifacts', appId, 'users', userId, 'cartItems');
                            const ordersRef = collection(db, 'artifacts', appId, 'users', userId, 'orders');

                            const deleteItem = async (docId) => {
                                try { await deleteDoc(doc(db, 'artifacts', appId, 'users', userId, 'cartItems', docId)); } catch (error) { console.error("Error removing document: ", error); }
                            };
                            
                            const addToCart = async () => {
                                if (!selectedGame || !selectedNominal || !usernameInput.value.trim()) {
                                    console.log('Silakan pilih game, nominal, dan masukkan ID pengguna.');
                                    return;
                                }
                                const finalPrice = selectedNominal.price * (1 - currentDiscount);
                                const item = {
                                    game: selectedGame.title,
                                    nominal: selectedNominal.diamonds,
                                    price: finalPrice,
                                    username: usernameInput.value.trim(),
                                    timestamp: new Date().toISOString(),
                                    voucherApplied: currentDiscount > 0
                                };
                                try {
                                    await addDoc(cartRef, item);
                                    console.log(`${item.nominal} diamonds untuk ${item.game} berhasil ditambahkan ke keranjang.`);
                                    cartButton.classList.add('animate-pulse');
                                    setTimeout(() => { cartButton.classList.remove('animate-pulse'); }, 500);
                                } catch (error) {
                                    console.error("Error adding document: ", error);
                                }
                            };
                            
                            const checkout = async () => {
                                try {
                                    const cartItemsSnapshot = await getDocs(cartRef);
                                    if (cartItemsSnapshot.empty) {
                                        console.log('Keranjang kosong, tidak ada yang bisa di-checkout.');
                                        return;
                                    }
                                    cartItemsSnapshot.forEach(async (doc) => {
                                        await addDoc(ordersRef, doc.data());
                                        await deleteDoc(doc.ref);
                                    });
                                    console.log('Checkout berhasil! Item pesanan telah dipindahkan.');
                                    cartModal.classList.add('hidden');
                                } catch (error) {
                                    console.error("Error during checkout: ", error);
                                }
                            };

                            const updateCartDisplay = () => {
                                onSnapshot(query(cartRef), (snapshot) => {
                                    cartItemsContainer.innerHTML = '';
                                    let total = 0;
                                    if (snapshot.empty) {
                                        cartItemsContainer.innerHTML = '<p class="text-gray-400 text-center">Keranjang kosong.</p>';
                                    } else {
                                        snapshot.forEach(doc => {
                                            const item = doc.data();
                                            const docId = doc.id;
                                            const itemElement = document.createElement('div');
                                            itemElement.classList.add('flex', 'justify-between', 'items-center', 'p-2', 'bg-gray-800', 'rounded-md', 'mb-2');
                                            itemElement.innerHTML = `
                                                <div>
                                                    <p class="font-semibold text-white">${item.game}</p>
                                                    <p class="text-sm text-gray-400">${item.nominal} Diamonds</p>
                                                    <p class="text-sm text-gray-400">ID: ${item.username}</p>
                                                </div>
                                                <div class="flex items-center space-x-2">
                                                    <p class="font-bold text-purple-400">Rp ${item.price.toLocaleString('id-ID')}</p>
                                                    <button class="delete-btn bg-red-600 hover:bg-red-700 text-white p-1 rounded-full text-xs" data-doc-id="${docId}">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            `;
                                            cartItemsContainer.appendChild(itemElement);
                                            total += item.price;
                                        });
                                        document.querySelectorAll('.delete-btn').forEach(button => {
                                            button.addEventListener('click', (e) => {
                                                const docId = e.target.closest('.delete-btn').getAttribute('data-doc-id');
                                                if (docId) deleteItem(docId);
                                            });
                                        });
                                    }
                                    cartTotalElement.textContent = `Total: Rp ${total.toLocaleString('id-ID')}`;
                                    cartCountElement.textContent = snapshot.size;
                                });
                            };

                            buyButton.addEventListener('click', addToCart);
                            cartButton.addEventListener('click', () => cartModal.classList.remove('hidden'));
                            closeCartModal.addEventListener('click', () => cartModal.classList.add('hidden'));
                            checkoutButton.addEventListener('click', checkout);
                            updateCartDisplay();
                            updateBuyButtonState();

                        } else {
                            console.log("Not authenticated.");
                            cartItemsContainer.innerHTML = '<p class="text-gray-400 text-center">Keranjang kosong. Fitur ini membutuhkan koneksi ke Firebase.</p>';
                            cartCountElement.textContent = 0;
                            cartTotalElement.textContent = `Total: Rp 0`;
                        }
                    });

                } catch (error) {
                    console.error("Kesalahan inisialisasi Firebase:", error);
                }
            } else {
                console.error('Gagal memuat konfigurasi Firebase. Pastikan Anda sudah mengganti kode placeholder.');
            }

            // Data dummy
            const gamesData = [
                { id: 'mlbb', title: 'Mobile Legends', image: 'https://placehold.co/400x550/060216/f8f8f8?text=Mobile+Legends', action: 'Top Up', category: 'moba', new: true },
                { id: 'valorant', title: 'Valorant', image: 'https://placehold.co/400x550/b41a2e/f8f8f8?text=Valorant', action: 'Top Up', category: 'fps', new: false },
                { id: 'genshin', title: 'Genshin Impact', image: 'https://placehold.co/400x550/1a4097/f8f8f8?text=Genshin+Impact', action: 'Top Up', category: 'rpg', new: false },
                { id: 'codm', title: 'Call of Duty', image: 'https://placehold.co/400x550/111111/f8f8f8?text=Call+of+Duty', action: 'Top Up', category: 'fps', new: false },
                { id: 'freefire', title: 'Free Fire', image: 'https://placehold.co/400x550/d24021/f8f8f8?text=Free+Fire', action: 'Top Up', category: 'fps', new: false },
                { id: 'aov', title: 'Arena of Valor', image: 'https://placehold.co/400x550/20344d/f8f8f8?text=Arena+of+Valor', action: 'Top Up', category: 'moba', new: false }
            ];
            const topUpOptions = [
                { diamonds: 50, price: 10000, id: 'opt1' },
                { diamonds: 100, price: 20000, id: 'opt2' },
                { diamonds: 250, price: 50000, id: 'opt3' },
                { diamonds: 500, price: 100000, id: 'opt4' },
                { diamonds: 1000, price: 200000, id: 'opt5' },
                { diamonds: 2000, price: 400000, id: 'opt6' }
            ];
            const vouchers = { 'SULTAN20': 0.20 };

            const pages = document.querySelectorAll('.page-content');
            const navLinks = document.querySelectorAll('.nav-link');
            const gamesGrid = document.getElementById('gamesGrid');
            const topUpGamesGrid = document.getElementById('topUpGamesGrid');
            const topupHeader = document.getElementById('topupHeader');
            const topupForm = document.getElementById('topupForm');
            const topUpOptionsContainer = document.getElementById('topUpOptions');
            const usernameInput = document.getElementById('username');
            const buyButton = document.getElementById('buyButton');
            const cartButton = document.getElementById('cartButton');
            const cartModal = document.getElementById('cartModal');
            const closeCartModal = document.getElementById('closeCartModal');
            const cartItemsContainer = document.getElementById('cartItems');
            const cartTotalElement = document.getElementById('cartTotal');
            const cartCountElement = document.getElementById('cartCount');
            const checkoutButton = document.getElementById('checkoutButton');
            const loginButton = document.getElementById('loginButton');
            const loginModal = document.getElementById('loginModal');
            const closeLoginModal = document.getElementById('closeLoginModal');
            const googleSignInButton = document.getElementById('googleSignInButton');
            const loginMessage = document.getElementById('loginMessage');
            const homePageSearchInput = document.getElementById('homePageSearchInput');
            const searchInputMobile = document.getElementById('searchInputMobile');
            const categoryLinks = document.querySelectorAll('.category-link');
            const voucherInput = document.getElementById('voucherInput');
            const applyVoucherButton = document.getElementById('applyVoucherButton');
            const voucherMessage = document.getElementById('voucherMessage');
            
            let selectedGame = null;
            let selectedNominal = null;
            let currentDiscount = 0;

            const showPage = (pageId) => {
                pages.forEach(page => {
                    page.classList.add('hidden');
                });
                const targetPage = document.getElementById(pageId);
                if (targetPage) {
                    targetPage.classList.remove('hidden');
                }
            };
            
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    showPage(e.target.getAttribute('data-page'));
                });
            });

            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobileMenu');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            const renderGames = (games, container) => {
                if (!container) {
                    console.error('Container for games not found!');
                    return;
                }
                container.innerHTML = '';
                games.forEach(game => {
                    const gameCard = document.createElement('div');
                    gameCard.classList.add('game-card', 'rounded-xl', 'overflow-hidden', 'shadow-lg', 'bg-gray-800/50', 'backdrop-blur-sm', 'border', 'border-gray-700/50', 'flex', 'flex-col', 'items-center', 'text-center', 'p-4', 'cursor-pointer');
                    gameCard.setAttribute('data-id', game.id);
                    gameCard.innerHTML = `
                        <img src="${game.image}" alt="${game.title}" class="w-full h-auto rounded-lg mb-4">
                        <h3 class="text-white font-bold text-lg">${game.title}</h3>
                        <p class="text-sm text-gray-400 mb-2">${game.action}</p>
                        ${game.new ? `<span class="bg-purple-600 text-white text-xs font-semibold px-2 py-1 rounded-full">Event Baru</span>` : ''}
                    `;
                    gameCard.addEventListener('click', () => {
                        selectedGame = game;
                        showPage('top-up-page');
                        topupHeader.textContent = `Top Up ${game.title}`;
                        topupForm.classList.remove('hidden');
                        topupForm.scrollIntoView({ behavior: 'smooth' });
                    });
                    container.appendChild(gameCard);
                });
            };

            categoryLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    categoryLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                    const category = link.getAttribute('data-category');
                    let filteredGames = gamesData;
                    if (category !== 'all') {
                        filteredGames = gamesData.filter(g => g.category === category);
                    }
                    renderGames(filteredGames, topUpGamesGrid);
                });
            });

            const performSearch = (query) => {
                const filteredGames = gamesData.filter(game => game.title.toLowerCase().includes(query.toLowerCase()));
                renderGames(filteredGames, topUpGamesGrid);
            };

            homePageSearchInput.addEventListener('input', (e) => {
                showPage('top-up-page');
                performSearch(e.target.value);
            });
            searchInputMobile.addEventListener('input', (e) => {
                showPage('top-up-page');
                performSearch(e.target.value);
            });

            topUpOptions.forEach(option => {
                const optionCard = document.createElement('div');
                optionCard.classList.add('option-card', 'bg-gray-800/50', 'rounded-lg', 'p-4', 'cursor-pointer', 'flex', 'flex-col', 'justify-between', 'items-center', 'text-center', 'select-none');
                optionCard.setAttribute('data-id', option.id);
                optionCard.innerHTML = `
                    <span class="font-bold text-lg">${option.diamonds} <i class="fas fa-gem text-purple-400"></i></span>
                    <span class="text-sm text-gray-300">Rp ${option.price.toLocaleString('id-ID')}</span>
                `;
                optionCard.addEventListener('click', () => {
                    document.querySelectorAll('#topUpOptions .option-card').forEach(card => card.classList.remove('selected'));
                    optionCard.classList.add('selected');
                    selectedNominal = option;
                    updateBuyButtonState();
                });
                topUpOptionsContainer.appendChild(optionCard);
            });

            applyVoucherButton.addEventListener('click', () => {
                const voucherCode = voucherInput.value.toUpperCase();
                if (vouchers[voucherCode]) {
                    currentDiscount = vouchers[voucherCode];
                    voucherMessage.textContent = `Voucher berhasil diterapkan! Diskon ${currentDiscount * 100}%`;
                    voucherMessage.classList.remove('hidden', 'text-red-400');
                    voucherMessage.classList.add('text-green-400');
                } else {
                    currentDiscount = 0;
                    voucherMessage.textContent = `Voucher tidak valid.`;
                    voucherMessage.classList.remove('hidden', 'text-green-400');
                    voucherMessage.classList.add('text-red-400');
                }
            });

            const sliderWrapper = document.querySelector('.slider-wrapper');
            let slideIndex = 0;
            const autoSlide = () => {
                slideIndex = (slideIndex + 1) % 3;
                sliderWrapper.style.transform = `translateX(-${slideIndex * 100}%)`;
            };
            setInterval(autoSlide, 5000);

            const faqItems = document.querySelectorAll('.faq-item');
            faqItems.forEach(item => {
                item.addEventListener('click', () => {
                    item.classList.toggle('active');
                    const content = item.querySelector('.faq-content');
                    if (item.classList.contains('active')) {
                        content.style.maxHeight = content.scrollHeight + 'px';
                    } else {
                        content.style.maxHeight = '0';
                    }
                });
            });

            const updateBuyButtonState = () => {
                const isUsernameValid = usernameInput.value.trim() !== '';
                buyButton.disabled = !(selectedGame && selectedNominal && isUsernameValid);
            };
            usernameInput.addEventListener('input', updateBuyButtonState);
            
            loginButton.addEventListener('click', () => {
                loginModal.classList.remove('hidden');
            });
            closeLoginModal.addEventListener('click', () => {
                loginModal.classList.add('hidden');
            });
            googleSignInButton.addEventListener('click', () => {
                loginMessage.classList.remove('hidden');
            });

            const popularGames = gamesData.slice(0, 2);
            renderGames(popularGames, gamesGrid);
            renderGames(gamesData, topUpGamesGrid);
            updateBuyButtonState();
        });
    </script>
<body class="bg-gray-900 text-gray-300 font-sans leading-relaxed relative">

    <!-- Header -->
    <header class="bg-gray-800/50 backdrop-blur-sm fixed top-0 left-0 right-0 z-40">
        <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-2 text-white text-2xl font-bold">
                <i class="fas fa-gem text-purple-400"></i>
                <span>Sultan Top Up</span>
            </a>
            <!-- Tautan Navigasi Desktop Dihapus -->
            <div class="flex items-center space-x-4">
                <!-- Kotak Pencarian Desktop Dihapus -->
                <button id="cartButton" class="relative bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-full transition-transform transform hover:scale-110">
                    <i class="fas fa-shopping-cart text-lg"></i>
                    <span id="cartCount" class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full">0</span>
                </button>
                <button id="loginButton" class="bg-transparent text-purple-400 border border-purple-400 hover:bg-purple-400 hover:text-white px-4 py-2 rounded-full transition-colors duration-200 hidden">
                    Masuk
                </button>
            </div>
            <div class="flex items-center space-x-2">
                <button id="mobileMenuButton" class="text-white text-2xl focus:outline-none">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>
        <div id="mobileMenu" class="bg-gray-800/80 backdrop-blur-md px-4 pt-2 pb-4 hidden">
            <div class="relative mb-4">
                <input type="text" id="searchInputMobile" placeholder="Cari Game..." class="w-full bg-gray-700/50 text-white rounded-full pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-400">
                <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <a href="#home" class="nav-link block py-2 text-white hover:text-purple-400" data-page="home-page">Beranda</a>
            <a href="#top-up" class="nav-link block py-2 text-white hover:text-purple-400" data-page="top-up-page">Top Up</a>
            <a href="#faq" class="nav-link block py-2 text-white hover:text-purple-400" data-page="faq-page">FAQ</a>
            <button id="loginButtonMobile" class="w-full bg-transparent text-purple-400 border border-purple-400 hover:bg-purple-400 hover:text-white mt-2 py-2 rounded-full">
                Masuk
            </button>
        </div>
    </header>

    <main class="pt-24 pb-8">
        <!-- Notifikasi Status -->
        <div class="container mx-auto px-4">
            <div id="statusMessage" class="hidden"></div>
        </div>

        <!-- Home Page -->
        <div id="home-page" class="page-content active">
            <div class="container mx-auto px-4 py-8">
                <!-- Promo Slider -->
                <section class="relative overflow-hidden w-full rounded-2xl mb-6 shadow-lg h-56">
                    <div class="slider-wrapper flex transition-transform duration-700 ease-in-out h-full">
                        <div class="flex-shrink-0 w-full h-full bg-gradient-to-r from-purple-800 to-pink-500 rounded-2xl flex items-center justify-center p-8">
                            <h2 class="text-white text-3xl md:text-5xl font-extrabold text-center drop-shadow-lg">Diskon 50% untuk Top Up Pertama!</h2>
                        </div>
                        <div class="flex-shrink-0 w-full h-full bg-gradient-to-r from-blue-500 to-cyan-400 rounded-2xl flex items-center justify-center p-8">
                            <h2 class="text-white text-3xl md:text-5xl font-extrabold text-center drop-shadow-lg">Event Terbatas: Bonus Diamonds Ganda</h2>
                        </div>
                        <div class="flex-shrink-0 w-full h-full bg-gradient-to-r from-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center p-8">
                            <h2 class="text-white text-3xl md:text-5xl font-extrabold text-center drop-shadow-lg">Voucher "SULTAN20" Diskon 20%</h2>
                        </div>
                    </div>
                </section>
                
                <!-- Search Input Home Page -->
                <div class="relative mb-12">
                    <input type="text" id="homePageSearchInput" placeholder="Cari Game..." class="w-full bg-gray-700/50 text-white rounded-full pl-10 pr-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-400">
                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                </div>

                <!-- Game Populer -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-white mb-6 text-center">Game Populer</h2>
                    <div id="gamesGrid" class="grid grid-cols-2 gap-6">
                        <!-- Game cards will be dynamically inserted here -->
                    </div>
                </section>

                <!-- Keunggulan -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-white mb-8 text-center">Mengapa Pilih Kami?</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-8 text-center">
                        <div class="bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl border border-gray-700/50 shadow-lg">
                            <i class="fas fa-tachometer-alt text-5xl text-purple-400 mb-4"></i>
                            <h3 class="font-bold text-xl text-white mb-2">Proses Cepat</h3>
                            <p class="text-gray-400">Top up dan diamond langsung masuk dalam hitungan detik.</p>
                        </div>
                        <div class="bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl border border-gray-700/50 shadow-lg">
                            <i class="fas fa-lock text-5xl text-purple-400 mb-4"></i>
                            <h3 class="font-bold text-xl text-white mb-2">100% Aman</h3>
                            <p class="text-gray-400">Transaksi aman, tanpa perlu verifikasi yang rumit.</p>
                        </div>
                        <div class="bg-gray-800/50 backdrop-blur-sm p-8 rounded-2xl border border-gray-700/50 shadow-lg">
                            <i class="fas fa-tags text-5xl text-purple-400 mb-4"></i>
                            <h3 class="font-bold text-xl text-white mb-2">Harga Terbaik</h3>
                            <p class="text-gray-400">Dapatkan harga paling kompetitif di pasar.</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>

        <!-- Top Up Page -->
        <div id="top-up-page" class="page-content hidden">
            <div class="container mx-auto px-4 py-8">
                <h1 class="text-3xl font-bold text-white text-center mb-8">Pilih Game untuk Top Up</h1>
                <div class="flex flex-wrap justify-center mb-8 gap-4">
                    <a href="#" class="category-link active text-white bg-gray-800/50 px-4 py-2 rounded-full hover:bg-purple-600 transition-colors duration-200" data-category="all">Semua</a>
                    <a href="#" class="category-link text-white bg-gray-800/50 px-4 py-2 rounded-full hover:bg-purple-600 transition-colors duration-200" data-category="moba">MOBA</a>
                    <a href="#" class="category-link text-white bg-gray-800/50 px-4 py-2 rounded-full hover:bg-purple-600 transition-colors duration-200" data-category="fps">FPS</a>
                    <a href="#" class="category-link text-white bg-gray-800/50 px-4 py-2 rounded-full hover:bg-purple-600 transition-colors duration-200" data-category="rpg">RPG</a>
                </div>
                <div id="topUpGamesGrid" class="grid grid-cols-2 gap-6 mb-12">
                    <!-- Game cards will be dynamically inserted here -->
                </div>
                
                <form id="topupForm" class="hidden">
                    <!-- Form akan muncul setelah game dipilih -->
                    <div class="bg-gray-800/50 backdrop-blur-sm p-6 md:p-10 rounded-2xl border border-gray-700/50 shadow-lg max-w-2xl mx-auto">
                        <h2 id="topupHeader" class="text-2xl font-bold text-white mb-6 text-center">Top Up Game</h2>
                        <h3 class="text-xl font-bold text-white mb-2">1. Masukkan ID Pengguna</h3>
                        <input type="text" id="username" placeholder="Masukkan ID Pengguna Anda" class="w-full bg-gray-700 text-white rounded-lg p-3 mb-6 focus:outline-none focus:ring-2 focus:ring-purple-400">

                        <h3 class="text-xl font-bold text-white mb-2">2. Pilih Nominal Diamond</h3>
                        <div id="topUpOptions" class="grid grid-cols-2 gap-4 mb-6">
                            <!-- Opsi top up akan dimasukkan di sini -->
                        </div>

                        <h3 class="text-xl font-bold text-white mb-2">3. Gunakan Voucher (Opsional)</h3>
                        <div class="flex mb-6">
                            <input type="text" id="voucherInput" placeholder="Masukkan kode voucher" class="flex-1 bg-gray-700 text-white rounded-l-lg p-3 focus:outline-none focus:ring-2 focus:ring-purple-400">
                            <button type="button" id="applyVoucherButton" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-r-lg transition-colors duration-200">Terapkan</button>
                        </div>
                        <p id="voucherMessage" class="text-center font-medium mb-6 hidden"></p>

                        <button type="button" id="buyButton" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 rounded-full transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed">
                            Tambahkan ke Keranjang
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- FAQ Page -->
        <div id="faq-page" class="page-content hidden">
            <div class="container mx-auto px-4 py-8 max-w-3xl">
                <h1 class="text-3xl font-bold text-white text-center mb-8">Pertanyaan yang Sering Diajukan</h1>
                <div class="space-y-4">
                    <!-- FAQ Items -->
                    <div class="faq-item bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50 shadow-lg p-6 cursor-pointer">
                        <div class="flex justify-between items-center">
                            <h3 class="font-bold text-xl text-white">Bagaimana cara top up?</h3>
                            <i class="fas fa-chevron-down text-white transform transition-transform duration-300"></i>
                        </div>
                        <div class="faq-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <p class="text-gray-400 mt-4">Pilih game, masukkan ID pengguna Anda, pilih nominal diamond, dan lakukan pembayaran. Diamond akan langsung masuk ke akun Anda.</p>
                        </div>
                    </div>
                    <div class="faq-item bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50 shadow-lg p-6 cursor-pointer">
                        <div class="flex justify-between items-center">
                            <h3 class="font-bold text-xl text-white">Metode pembayaran apa yang tersedia?</h3>
                            <i class="fas fa-chevron-down text-white transform transition-transform duration-300"></i>
                        </div>
                        <div class="faq-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <p class="text-gray-400 mt-4">Kami mendukung berbagai metode pembayaran, termasuk transfer bank, e-wallet (seperti OVO, GoPay), dan kartu kredit.</p>
                        </div>
                    </div>
                    <div class="faq-item bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50 shadow-lg p-6 cursor-pointer">
                        <div class="flex justify-between items-center">
                            <h3 class="font-bold text-xl text-white">Apakah perlu registrasi?</h3>
                            <i class="fas fa-chevron-down text-white transform transition-transform duration-300"></i>
                        </div>
                        <div class="faq-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <p class="text-gray-400 mt-4">Tidak, Anda dapat langsung top up tanpa perlu mendaftar atau masuk. Namun, untuk menyimpan riwayat pesanan, Anda bisa login.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800/50 backdrop-blur-sm py-8">
        <div class="container mx-auto px-4 text-center text-gray-400">
            <p>&copy; 2024 Sultan Top Up. Hak Cipta Dilindungi Undang-Undang.</p>
            <div class="mt-4 flex justify-center space-x-4">
                <a href="#" class="hover:text-white transition-colors duration-200"><i class="fab fa-facebook-f"></i></a>
                <a href="#" class="hover:text-white transition-colors duration-200"><i class="fab fa-twitter"></i></a>
                <a href="#" class="hover:text-white transition-colors duration-200"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div class="fixed inset-0 bg-gray-900 bg-opacity-80 z-50 flex items-center justify-center p-4 hidden" id="cartModal">
        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50 shadow-lg p-6 w-full max-w-md relative">
            <h2 class="text-2xl font-bold text-white mb-4">Keranjang Belanja</h2>
            <div class="h-64 overflow-y-auto mb-4" id="cartItems">
                <!-- Cart items will be dynamically inserted here -->
            </div>
            <div class="border-t border-gray-700/50 pt-4 flex justify-between items-center">
                <p id="cartTotal" class="text-xl font-bold text-white">Total: Rp 0</p>
                <button id="checkoutButton" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-full transition-colors duration-200">
                    Checkout
                </button>
            </div>
            <div class="absolute top-4 right-4 text-white text-2xl cursor-pointer" id="closeCartModal">&times;</div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="fixed inset-0 bg-gray-900 bg-opacity-80 z-50 flex items-center justify-center p-4 hidden" id="loginModal">
        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50 shadow-lg p-6 w-full max-w-sm relative text-center">
            <h2 class="text-2xl font-bold text-white mb-4">Masuk</h2>
            <p class="text-gray-400 mb-6">Masuk untuk menyimpan riwayat pesanan Anda.</p>
            <button id="googleSignInButton" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-full transition-colors duration-200 flex items-center justify-center space-x-2">
                <i class="fab fa-google"></i>
                <span>Masuk dengan Google</span>
            </button>
            <p id="loginMessage" class="mt-4 text-sm text-yellow-400 hidden">
                Login hanya tersedia di lingkungan nyata. Fitur ini tidak berfungsi di dalam pratinjau.
            </p>
            <div class="absolute top-4 right-4 text-white text-2xl cursor-pointer" id="closeLoginModal">&times;</div>
        </div>
    </div>
</body>
</html>

